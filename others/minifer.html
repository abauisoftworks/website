<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abaui - Minifier</title>
    <link href="https://api.fontshare.com/v2/css?f[]=satoshi@900,700,500,400&f[]=general-sans@500,600,700&f[]=clash-display@600,500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ffffff; --secondary: #f8fafc; --accent: #0ea5e9; --text: #0f172a;
            --surface: rgba(255, 255, 255, 0.7); --gradient: linear-gradient(135deg, #0ea5e9, #6366f1);
            --bg-gradient: linear-gradient(135deg, #f8fafc, #ffffff); --text-shadow: 0 0 20px rgba(14, 165, 233, 0.2);
            --hover-gradient: linear-gradient(135deg, #6366f1, #0ea5e9); --nav-bg: rgba(255, 255, 255, 0.7);
            --border-color: rgba(15, 23, 42, 0.05); --hover-bg: rgba(14, 165, 233, 0.1);
            --glow: 0 0 30px rgba(14, 165, 233, 0.15); --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.05);
            --transition: cubic-bezier(0.16, 1, 0.3, 1);
        }
        [data-theme="dark"] {
            --primary: #0f172a; --secondary: #1e293b; --accent: #38bdf8; --text: #f8fafc;
            --surface: rgba(15, 23, 42, 0.7); --gradient: linear-gradient(135deg, #38bdf8, #6366f1);
            --bg-gradient: linear-gradient(135deg, #0f172a, #1e293b); --text-shadow: 0 0 20px rgba(56, 189, 248, 0.2);
            --hover-gradient: linear-gradient(135deg, #6366f1, #38bdf8); --nav-bg: rgba(15, 23, 42, 0.7);
            --border-color: rgba(255, 255, 255, 0.05); --glow: 0 0 30px rgba(56, 189, 248, 0.15);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'General Sans', sans-serif; background: var(--bg-gradient); color: var(--text); min-height: 100vh; overflow-x: hidden; display: flex; flex-direction: column; }

        .nav { position: fixed; width: 100%; padding: 1.25rem 7%; display: flex; justify-content: space-between; align-items: center; background: var(--nav-bg); backdrop-filter: blur(10px) saturate(180%); z-index: 1000; border-bottom: 1px solid var(--border-color); top: 0; left: 0; }
        .logo { font-family: 'Clash Display', sans-serif; font-size: 1.5rem; font-weight: 600; background: var(--gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; letter-spacing: -0.02em; transition: all 1s ease; text-decoration: none; }
        .nav-controls { display: flex; align-items: center; gap: 0.5rem; }
        
        .theme-toggle { background: none; border: none; padding: 0.5rem; cursor: pointer; display: flex; align-items: center; justify-content: center; width: 34px; height: 34px; border-radius: 9px; color: var(--text); transition: all 1s var(--transition); }
        .theme-toggle svg { width: 18px; height: 18px; transition: all 1s var(--transition); }
        .theme-toggle .moon { display: none; }
        [data-theme="dark"] .theme-toggle .sun { display: none; }
        [data-theme="dark"] .theme-toggle .moon { display: block; }

        .menu-toggle { display: flex; flex-direction: column; justify-content: center; align-items: center; background: none; border: none; width: 40px; height: 40px; cursor: pointer; z-index: 2050; }
        .menu-toggle span { display: block; width: 30px; height: 2px; background: var(--text); margin: 4px 0; transition: 0.4s var(--transition); }
        .menu-toggle.active span:nth-child(1) { transform: translateY(9.5px) rotate(45deg); }
        .menu-toggle.active span:nth-child(2) { opacity: 0; }
        .menu-toggle.active span:nth-child(3) { transform: translateY(-9.5px) rotate(-45deg); }

        .nav-links { position: fixed; top: 0; right: 0; height: 100vh; background: var(--surface); backdrop-filter: blur(10px); padding: 5rem 2rem; min-width: 250px; flex-direction: column; gap: 1rem; transform: translateX(100%); transition: transform 0.3s var(--transition); display: flex; list-style: none; }
        .nav-links.active { transform: translateX(0); }
        .nav-links a { color: var(--text); text-decoration: none; font-size: 0.9rem; padding: 0.5rem 1rem; border-radius: 8px; transition: 0.3s; }
        .nav-links a:hover { background: var(--hover-bg); color: var(--accent); }

        .main-content { margin-top: 6rem; flex: 1; padding: 2rem 7%; display: flex; flex-direction: column; gap: 2rem; }
        
        .file-config { display: flex; flex-wrap: wrap; gap: 1rem; align-items: center; background: var(--surface); padding: 1.5rem; border-radius: 16px; border: 1px solid var(--border-color); }
        .form-group input, .form-group select { padding: 0.75rem 1.25rem; border: 1px solid var(--border-color); border-radius: 12px; background: var(--secondary); color: var(--text); font-family: 'General Sans'; transition: 0.3s var(--transition); outline: none; }
        .form-group input:focus { border-color: var(--accent); box-shadow: var(--glow); }

        .editor-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; min-height: 400px; }
        @media (max-width: 900px) { .editor-grid { grid-template-columns: 1fr; } }

        .card { background: var(--surface); border-radius: 20px; border: 1px solid var(--border-color); display: flex; flex-direction: column; overflow: hidden; transition: 0.5s var(--transition); }
        .card:hover { transform: translateY(-5px); border-color: var(--accent); box-shadow: var(--glow); }
        .card-header { padding: 1rem 1.5rem; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center; }
        
        textarea { flex: 1; background: transparent; border: none; padding: 1.5rem; color: var(--text); font-family: monospace; font-size: 14px; resize: none; outline: none; min-height: 300px; }

        .action-btn { padding: 0.8rem 1.5rem; background: var(--gradient); color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; transition: 0.4s var(--transition); }
        .action-btn:hover { background: var(--hover-gradient); transform: translateY(-2px); box-shadow: var(--glow); }

        .footer { padding: 2rem 7%; text-align: center; opacity: 0.5; font-size: 0.8rem; }
    </style>
</head>
<body>

    <nav class="nav">
        <a href="#" class="logo">Abaui</a>
        <div class="nav-controls">
            <span class="version-text" style="font-size: 0.6rem; opacity: 0.5;">V1.3.0</span>
            <button class="theme-toggle" onclick="toggleTheme()">
                <svg class="sun" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
                <svg class="moon" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
            </button>
            <button class="menu-toggle" onclick="toggleMenu()">
                <span></span><span></span><span></span>
            </button>
            <ul class="nav-links">
                <li><a href="https://abaui.vercel.app/">Home Page</a></li>
                <li><a href="https://abaui.vercel.app/scripts">Our Scripts</a></li>
                <li><a href="https://abaui.vercel.app/executors">Executors</a></li>
                <li><a href="https://discord.gg/hnq9AGVMwq">Discord</a></li>
            </ul>
        </div>
    </nav>

    <main class="main-content">
        <div class="file-config">
            <div class="form-group">
                <input type="text" id="filename" placeholder="File name..." value="script">
            </div>
            <div class="form-group">
                <select id="extension">
                    <option value=".luau">.luau</option>
                    <option value=".lua">.lua</option>
                    <option value=".txt">.txt</option>
                </select>
            </div>
            <div style="flex:1"></div>
            <button class="action-btn" onclick="setMode('very-strong')">Very Strong</button>
        </div>

        <div class="editor-grid">
            <div class="card">
                <div class="card-header">
                    <span style="font-family:'Clash Display'; font-weight:600; opacity:0.5">INPUT</span>
                    <button class="action-btn" style="padding:0.5rem 1rem" onclick="doPaste()">Paste</button>
                </div>
                <textarea id="input" placeholder="-- Paste script here..."></textarea>
            </div>
            <div class="card">
                <div class="card-header">
                    <span style="font-family:'Clash Display'; font-weight:600; opacity:0.5">OUTPUT</span>
                    <button class="action-btn" id="copy-btn" style="padding:0.5rem 1rem" onclick="doCopy()">Copy</button>
                </div>
                <textarea id="output" readonly></textarea>
            </div>
        </div>

        <button class="action-btn" style="width:100%; padding:1.2rem" onclick="doDownload()">Download Minified File</button>
    </main>

    <footer class="footer">
        No logs stored locally. External logging via ISP or Host may occur. Use a VPN for total anonymity.
    </footer>

    <script>
        function toggleTheme() {
            const curr = document.documentElement.getAttribute('data-theme');
            document.documentElement.setAttribute('data-theme', curr === 'dark' ? 'light' : 'dark');
        }

        function toggleMenu() {
            document.querySelector('.menu-toggle').classList.toggle('active');
            document.querySelector('.nav-links').classList.toggle('active');
        }

        function doPaste() {
            navigator.clipboard.readText().then(text => {
                document.getElementById('input').value = text;
                process();
            });
        }

        function doCopy() {
            const out = document.getElementById('output');
            navigator.clipboard.writeText(out.value);
            const btn = document.getElementById('copy-btn');
            btn.innerText = "Done!";
            setTimeout(() => btn.innerText = "Copy", 1000);
        }

        function process() {
            let c = document.getElementById('input').value;
            // Minification logic
            c = c.replace(/--\[(=*)\[[\s\S]*?\]\1\]/g, '').replace(/\s*--.*$/gm, '').replace(/^\s*[\r\n]/gm, '');
            c = c.replace(/\s+/g, ' ').trim();
            document.getElementById('output').value = c;
        }

        function doDownload() {
            const content = document.getElementById('output').value;
            if(!content) return;
            const name = document.getElementById('filename').value || 'script';
            const ext = document.getElementById('extension').value;
            const blob = new Blob([content], {type: 'text/plain'});
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = name + ext;
            a.click();
        }

        document.getElementById('input').oninput = process;
    </script>
</body>
</html>
